<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.kuaizhan.kzweixin.dao.mapper.AccountDao">
    <!--根据weixinAppId更新账号-->
    <update id="updateAccountByWeixinAppId">
        update site_weixin
        set
        <if test="siteId!=null">
            site_id=#{siteId},
        </if>
        <if test="accessToken!=null">
            access_token=#{accessToken},
        </if>
        <if test="appId!=null">
            app_id=#{appId},
        </if>
        <if test="refreshToken!=null">
            refresh_token=#{refreshToken},
        </if>
        <if test="expiresTime!=null">
            expires_time=#{expiresTime},
        </if>
        <if test="appSecret!=null">
            app_secret=#{appSecret},
        </if>
        <if test="funcInfoJson!=null">
            func_info_json=#{funcInfoJson},
        </if>
        <if test="nickName!=null">
            nick_name=#{nickName},
        </if>
        <if test="headImg!=null">
            head_img=#{headImg},
        </if>
        <if test="serviceType!=null">
            service_type=#{serviceType},
        </if>
        <if test="verifyType!=null">
            verify_type=#{verifyType},
        </if>
        <if test="alias!=null">
            alias=#{alias},
        </if>
        <if test="businessInfoJson!=null">
            business_info_json=#{businessInfoJson},
        </if>
        <if test="qrcodeUrl!=null">
            qrcode_url=#{qrcodeUrl},
        </if>
        <if test="qrcodeUrlKz!=null">
            qrcode_url_kz=#{qrcodeUrlKz},
        </if>
        <if test="menuJson!=null">
            menu_json=#{menuJson},
        </if>
        <if test="interestJson!=null">
            interest_json=#{interestJson},
        </if>
        <if test="advancedFuncInfoJson!=null">
            advanced_func_info_json=#{advancedFuncInfoJson},
        </if>
        <if test="previewOpenId!=null">
            preview_open_id=#{previewOpenId},
        </if>
        <if test="bindTime!=null">
            bind_time=#{bindTime},
        </if>
        <if test="unbindTime!=null">
            unbind_time=#{unbindTime},
        </if>
        <if test="isDel!=null">
            is_del=#{isDel},
        </if>
        update_time=unix_timestamp(now())
        where
        weixin_appid=#{weixinAppid}
    </update>
</mapper>