# 公众号接口约定

## 1.请求

### 1.1 请求格式

* 所有接口使用HTTP协议访问
* GET方法和DELETE方法，参数拼接到url
* 其他方法请求, 参数写到body。
* 请求body格式为application/json
* 所有接口url加上`/kzweixin`前缀, 具体的接口文档中省略了此前缀。

## 2. 响应

### 2.1 响应格式
```
{
"code": 200,
"msg": "ok",
"data": {
}
```
其中

* code为业务码，正常返回都是200，错误返回为相应业务异常码
* msg为异常信息
* data为接口的返回数据，json类型。  

各个模块的接口文档均省略了正常响应时外层的code, msg, data字段，只撰写了data里面的json数据。

### 2.2 响应主体  
接口返回数据格式均为: Content-Type: application/json; charset=utf-8

### 2.3 业务异常

除正常响应的200外，业务异常码为6位数字组成，首位定位输出端（1为web端），中间两位定义模块，后三位定位具体错误类型  

模块定义：
* 系统：00
* 公共：01
* 账号：02
* 消息：03
* 粉丝：04
* 菜单：05
* 自动回复：06
* 图文：07
